import{u as e,c as a,r as t,a as o,b as n,t as s,d as r,n as i,e as l,w as c,v as d,F as u,f as m,g as p,h as g,o as h,i as b,j as k}from"./vendor.16d7ec7a.js";const y={ru:{common:"обычный",hard:"сложный",madness:"безумный",goal:"Текущая цель",Status:"Положение дел",Gold:"Золото",Moral:"Мораль",Renown:"Известность"},en:{goal:"Current target"}};const v={id:"content"},w={id:"goalContainerPositioner"},x={id:"goalContainer"},C={align:"left"},f={id:"globalInfoRow"},_=n("hr",{class:"svl"},null,-1),j=n("hr",{class:"svl"},null,-1),q=n("hr",null,null,-1),K={id:"globalInfoRow"},N=n("hr",{class:"svl"},null,-1),P=n("hr",{class:"svl"},null,-1),T={id:"contentPositioner"},R={class:"kojaniaCont"},M=n("h3",null,"Кожания",-1),L=g("Отношения: "),D=g("Уровень процветания: "),S=g(" Демоническая угроза: "),W=g("Цена рекрута: "),Q=n("br",null,null,-1),A={class:"squadCont"},E=n("h3",null,"Состав отряда",-1),I={key:0},G=["onClick","toolTip"],H=["onClick","toolTip"],U=["onClick","toolTip"],B=["onClick","toolTip"],F=n("br",null,null,-1),O={class:"modal-mask"},z={class:"modal-wrapper"},J={id:"day"},V=n("br",null,null,-1),X=n("br",null,null,-1);const Y={data:()=>({local:"ru"}),methods:{l10n(e){return"en"==this.local&&void 0===y[this.local][e]?e:y[this.local][e]}}},Z=Object.assign(Y,{setup:function(b){const k=e(),y=a((()=>k.state.Entity));return(e,a)=>{const b=t("Hire"),Y=t("Tabs");return h(),o("div",v,[n("div",w,[n("div",x,[n("h3",null,s(e.l10n("goal")),1),n("p",null,s(r(y).quests[r(y).quests.active].goal),1)])]),n("div",null,[n("h3",C,s(e.l10n("Status")),1)]),n("div",f,[n("p",null,s(e.l10n("Gold"))+": "+s(r(y).gold),1),_,n("p",null,s(e.l10n("Moral"))+": "+s(r(y).squadState.morality),1),n("button",{class:"moralButton",onClick:a[0]||(a[0]=()=>{})},"▼"),j,n("p",null,s(e.l10n("Renown"))+": "+s(Math.floor(r(y).squadState.reputation)),1)]),q,n("div",K,[n("p",null,"Дней до выплаты: "+s(r(y).squadState.paydayleft),1),N,n("p",null,"Жалование: "+s(r(k).getters.payday),1),P,n("button",{onClick:a[1]||(a[1]=()=>{})},"Финансы")]),n("div",T,[n("div",R,[M,n("p",null,[L,n("span",{class:i(r(k).getters.kojaniaReputation[1])},s(r(k).getters.kojaniaReputation[0]),3)]),n("p",null,[D,n("span",{class:i(r(k).getters.kojaniaProsperity[1])},s(r(k).getters.kojaniaProsperity[0]),3)]),n("p",null,[S,n("span",{class:i(r(k).getters.demonicPresence[1])},s(r(k).getters.demonicPresence[0]),3)]),n("p",null,[W,n("span",null,s(r(y).Kojania.hirecost),1)]),n("p",null,"Свободные рекруты: "+s(r(y).Kojania.availableWarriors),1),l(b),Q,c(n("div",null,[n("p",null,"Контракты: "+s(r(y).availableContracts),1),c(n("button",{onClick:a[2]||(a[2]=(...a)=>e.openContractList&&e.openContractList(...a))},"Прием контрактов",512),[[d,r(y).availableContracts>0]])],512),[[d,r(y).isAvailableContracts&&!r(y).contract_is_taken[3]]]),c(n("p",null,"Принят контракт",512),[[d,r(y).contract_is_taken[0]]]),c(n("p",null,"Принят сложный контракт",512),[[d,r(y).contract_is_taken[1]]]),c(n("p",null,"Принят безумный контракт",512),[[d,r(y).contract_is_taken[2]]])]),n("div",A,[E,(h(!0),o(u,null,m(r(y).squad,((a,t)=>(h(),o("p",{class:"squadList",key:a},[a>0?(h(),o("div",I,[g(s(r(y).rangName[t])+": "+s(a)+" ",1),r(y).squad_imp[t]>0&&r(y).wa[t]>1?(h(),o("button",{key:0,onClick:a=>e.rangUp(t,1),toolTip:"Стоимость: "+2*r(y).wpc[t],class:"tooltip"}," 1+ ",8,G)):p("",!0),r(y).squad_imp[t]>=10&&r(y).wa[t]>1?(h(),o("button",{key:1,onClick:a=>e.rangUp(t,10),toolTip:"Стоимость: "+2*r(y).wpc[t]*10,class:"tooltip"}," 10+ ",8,H)):p("",!0),r(y).squad_imp[t]>=100&&r(y).wa[t]>1?(h(),o("button",{key:2,onClick:a=>e.rangUp(t,100),toolTip:"Стоимость: "+2*r(y).wpc[t]*100,class:"tooltip"}," 100+ ",8,U)):p("",!0),r(y).squad_imp[t]>1&&r(y).wa[t]>1?(h(),o("button",{key:3,onClick:a=>e.rangUp(t,r(y).squad_imp[t]),toolTip:"Стоимость: "+r(y).squad_imp[t]*r(y).wpc[t]*2,class:"tooltip"},s(r(y).squad_imp[t])+"+ ",9,B)):p("",!0)])):p("",!0)])))),128)),F,n("p",null,"Всего людей: "+s(r(k).getters.totalPeople),1),n("p",null,"Боевая мощь: "+s(r(k).getters.power),1),r(y).wa.smerd>0?(h(),o("button",{key:0,onClick:a[3]||(a[3]=(...a)=>e.openRangInfo&&e.openRangInfo(...a))},"? о рангах")):p("",!0),c(n("div",O,[n("div",z,[l(Y)])],512),[[d,r(y).show.rangInfo]])])]),n("div",null,[n("span",J,"День: "+s(r(y).day),1),V,n("button",{onClick:a[4]||(a[4]=e=>r(k).dispatch("toNextDay")),class:"btnex"},"Завершение дня.")]),r(y).isDebug?(h(),o("button",{key:0,onClick:a[5]||(a[5]=e=>r(k).commit("addRep")),class:"btnex"},"+50 rep")):p("",!0),r(y).isDebug?(h(),o("button",{key:1,onClick:a[6]||(a[6]=e=>r(k).commit("addx2Rep")),class:"btnex"},"x2 rep")):p("",!0),r(y).isDebug?(h(),o("button",{key:2,onClick:a[7]||(a[7]=e=>r(k).commit("addRen")),class:"btnex"},"+50 ren")):p("",!0),r(y).isDebug?(h(),o("button",{key:3,onClick:a[8]||(a[8]=e=>r(k).commit("addGold")),class:"btnex"},"x10 gold")):p("",!0),r(y).isDebug?(h(),o("button",{key:4,onClick:a[9]||(a[9]=e=>r(k).commit("addDaemons")),class:"btnex"},"x2 daemons")):p("",!0),X,r(y).isDebug?(h(),o("button",{key:5,onClick:a[10]||(a[10]=a=>e.showWhatHiden()),class:"btnex"},"showWhatHiden()")):p("",!0)])}}});const $=b({modules:{Entity:{state:()=>({local:"ru",day:1,gold:1120,show:{rangInfo:!1},squadState:{paydayleft:6,morality:50,reputation:0},squad:{smerd:6,dubolom:0,warrior:0,veteran:0,knight:0,hero:0},tohire:0,wa:{smerd:0,dubolom:0,warrior:0,veteran:0,knight:0,hero:0},wpc:{smerd:7,dubolom:12,warrior:35,veteran:100,knight:300,hero:1e3},wp:{smerd:10,dubolom:16,warrior:32,veteran:50,knight:100,hero:700},wdc:{smerd:40,dubolom:16,warrior:7,veteran:3,knight:2,hero:.01},warriorsdie:{smerd:0,dubolom:0,warrior:0,veteran:0,knight:0,hero:0},exp:{smerd:[60,0],dubolom:[200,0],warrior:[400,0],veteran:[1e3,0],knight:[4e3,0],hero:[1e6,0]},expbaseinc:{smerd:[2,3,4,5],dubolom:[2,4,8,12],warrior:[2,6,12,24],veteran:[2,6,12,36],knight:[2,6,12,48],hero:[0,0,0,0]},expreward:0,squad_imp:{smerd:0,dubolom:0,warrior:0,veteran:0,knight:0,hero:0},Kojania:{demonicPresence:30,demonicPresenceList:[{num:200,className:"white-grade",text:"редкие одиночные цели"},{num:1e3,className:"green-grade",text:"редкие малые стаи"},{num:2500,className:"yellow-grade",text:"возможны крупные стаи"},{num:5e3,className:"red-grade",text:"орды демонов"},{num:9e3,className:"black-grade",text:"чудовищные орды демонов"}],prosperity:250,prosperityList:[{num:50,className:"black-grade",text:"пепелище"},{num:200,className:"red-grade",text:"восстановление"},{num:1e3,className:"yellow-grade",text:"укрепление"},{num:2500,className:"green-grade",text:"стабильность"},{num:5e3,className:"white-grade",text:"экспансия"}],reputation:0,repSumm:0,reputationGain:[],reputationList:[{num:108,className:"yellow-grade",text:"нейтральные"},{num:250,className:"green-grade",text:"открытые"},{num:1e3,className:"white-grade",text:"теплые"},{num:5e3,className:"white-grade",text:"дружеские"},{num:1e4,className:"white-grade",text:"союзные"}],goldBonus:1,enemyBonus:1,availableWarriors:1,targetAvailableWarriors:2,baseHireCost:140,hirecost:14},messageLog1:"",messageLog2:[],battleReport:{result:{key:0,text:[]},gold:0,exp:0},info:["Демоны -- крайне опасные существа. Даже слабейший из них, за счет невероятной грубой силы и живучести, требует слаженной работы десятка людей. У них множество подвидов с различными особенностями. Но, как правило, дальнобойное оружие и добротные копья делают свое дело. По возможности лучше использовать ловушки и не допускать сближения.","Тушки демонов пользуются хорошим спросом. Почти каждую часть их тела можно считать стратегическим ресурсом. Кроме съедобного мяса это отличные доспехи из кожи. Вполне боеспособные луки и арбалеты из прочных связок. Невероятно огромный список амуниции из костей. Каждый участник охоты или сражения получает часть прибыли с этих трофеев."],quests:{active:"hire_10_smerd",hire_10_smerd:{goal:"Нанять 10 рекрутов",finishText:"Рекруты набираются опыта в бою и на тренировке. Когда они будут готовы стоит подумать об их продвижении. При продвижении придется заплатить разовое 2х недельное жалование. Но зато бойцы обязуются улучшить снаряжение, что сделает их сильнее уже в следующем бою и мотивирует на новые подвиги.",niceQuestMsgs:["Можно продвигать рекрутов.","Доступны простые контракты."]},found_contract:{goal:"Выполнить контракт.",finishText:"Время от времени будут появляться различные контракты. Их выполнение важно как для Кожании так и для нас. Хотя мы и не обызаны под этим подписываться, без Кожании у нас мало шансов. Заказчик укажет минимальные требования и предпологаемые проблемы... Однако реальность всегда может оказаться намного хуже самых смелых ожиданий. Если мы не хотим потерять все, нам придется быть к этому, по возможности, готовыми.",niceQuestMsgs:["Можно продвигать дуболомов.","Доступны сложные контракты."]},take_3000_gold:{goal:"3000 золота и 500 мощи",finishText:"Местный староста -- солидный господин. Он весьма снисходителен к гостям и готов бесплатно предоставлять некоторый уровень безопасности. Правда, вне центральной крепости, которая с каждым днем становится все более массивной. Благодаря его политике золото в цене даже в такие времена, а мы без проблем можем купить хорошую экипировку для наших воинов.",niceQuestMsgs:["Отдана 1000 золота, отношения улучшились.","Доступен прогноз рекрутов на следующий день.","Доступно резервирование отрядов."]},take_20_warriors:{goal:"20 воинов и 2000 мощи",finishText:"Нужно полностью захватить и обустроить рудные шахты и помочь с остальными ресурсами, расположенными далеко от поселения. Некоторые контракты -- чистое самоубийство, но вместе с тем их стратегическое значение крайне велико, возможно деже жизненно необходимо.",niceQuestMsgs:["Можно продвигать воинов","Доступны безумные контракты."]},take_10_veterans:{goal:"10 ветеранов и 5000 мощи",finishText:"Наша известность работает в обе стороны. В прославленный отряд присоединяется больше людей и этими людьми проще управлять. Нам доверяют самое лучшие оружие и щедро платят за трофеи. Однако лишь совсем ленивый или в конец тупой не заметил бы наши слабые места. Чем дольше мы сидим на одном месте, тем больше внимания в округе мы привлекаем. За стенами это не так заметно. Но к каждому контракту нужно относиться с осторожностью.",niceQuestMsg1:"Можно продвигать ветеранов",niceQuestMsgs:["Можно продвигать ветеранов."]},take_10_knights:{goal:"10 рыцарей и 9000 мощи",finishText:"Туши убитых демонов полны сюрпризов. Металлурги и алхимики делают исключительные открытия и создают невероятные вещи. Конечно, кто-то должен эти туши добыть, как правило ценой своих жизней, а потом кто-то должен с ними как следует поработать. Но в такие времена сам факт прогресса уже вселяет надежду.",niceQuestMsgs:["Можно продвигать рыцарей."]},take_10_heroes:{goal:"10 героев и 40к мощи",finishText:"Победа (нет)",niceQuestMsgs:[""]}},isAvailableContracts:!1,contracts:{common:{isAvailable:!1,generationChance:[12,12],revard:{first:200,loot:20},prosperityChange:6,reputationCnange:8,chancetoLose:[0,10],basePower:50,scaleRange:6},hard:{isAvailable:!1,generationChance:[5,5],revard:{first:600,loot:35},prosperityChange:10,reputationCnange:16,chancetoLose:[0,4],basePower:300,scaleRange:4},madness:{isAvailable:!1,generationChance:[2,2],revard:{first:1800,loot:50},prosperityChange:20,reputationCnange:32,chancetoLose:[0,2],basePower:1e3,scaleRange:3}},contract_list:[],availableContracts:0,contract_is_taken:[0,0,0,0],rangName:{smerd:"Рекрут",dubolom:"Дуболом",warrior:"Воин",veteran:"Ветеран",knight:"Рыцарь",hero:"Герой"},modalError:!1,modalErrorText:"",modalMissionText:"",isDebug:!0}),mutations:{toNextDay(e){e.day++,e.squadState.paydayleft--,e.Kojania.demonicPresence+=.01*e.Kojania.demonicPresence+1},timeToPay(e,a){e.squadState.paydayleft+=7,e.gold-=a},hire(e,a){e.squad.smerd+=a,e.gold-=e.Kojania.hirecost*a,e.Kojania.availableWarriors-=a},hire_reset_helper(e,a){e.Kojania.availableWarriors<a&&(e.tohire=e.Kojania.availableWarriors)},error(e,a){e.modalErrorText=a,e.modalError=!0},addGold(e){e.gold*=10},addRep(e){e.Kojania.reputation+=50,console.log(e.Kojania.reputation)},addRen(e){e.squadState.reputation+=50,console.log(e.squadState.reputation)},addx2Rep(e){e.Kojania.reputation*=2,console.log(e.Kojania.reputation)},addDaemons(e){e.Kojania.demonicPresence*=2,console.log(e.Kojania.demonicPresence)}},actions:{toNextDay({commit:e,state:a,getters:t}){e("toNextDay"),0==a.squadState.paydayleft&&e("timeToPay",t.payday)},hire({commit:e,state:a},t){e("hire_reset_helper",1),a.gold>=a.Kojania.hirecost*t&&a.Kojania.availableWarriors>0?e("hire",t):a.Kojania.availableWarriors>0?e("error","Нужно больше золота."):e("error","Рекруты закончились. Возможно завтра будут новые."),e("hire_reset_helper",1)}},getters:{payday:(e,a)=>{let t=0;for(let o in e.squad)t+=e.squad[o]*e.wpc[o];return t},power:(e,a)=>{let t=0;for(let o in e.squad)t+=e.squad[o]*e.wp[o];return t},totalPeople:(e,a)=>{let t=0;for(let o in e.squad)t+=e.squad[o];return t},demonicPresence:(e,a)=>{for(const t of e.Kojania.demonicPresenceList)if(Math.min(9e3,e.Kojania.demonicPresence)<=t.num)return[t.text,t.className]},kojaniaReputation:(e,a)=>{for(const t of e.Kojania.reputationList)if(Math.min(1e4,e.Kojania.repSumm)<=t.num)return[t.text,t.className]},kojaniaProsperity:(e,a)=>{for(const t of e.Kojania.prosperityList)if(Math.min(5e3,e.Kojania.prosperity)<=t.num)return[t.text,t.className]}}}}});k(Z).use($).mount("#app");
