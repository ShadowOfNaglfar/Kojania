import{u as e,c as a,o as t,a as s,b as r,w as o,v as n,d as i,t as l,F as c,e as d,f as u,r as p,g as m,h as g,n as h,i as v,j as b,k}from"./vendor.71af84ca.js";const w={ru:{common:"обычный",hard:"сложный",madness:"безумный",goal:"Текущая цель",Status:"Положение дел",Gold:"Золото",Payday:"Дней до выплаты",Moral:"Мораль",Renown:"Известность",smerd:"Рекрут",dubolom:"Дуболом",warrior:"Воин",veteran:"Ветеран",knight:"Рыцарь",hero:"Герои",smerds:"Рекруты",duboloms:"Дуболомы",warriors:"Воины",veterans:"Ветераны",knights:"Рыцари",heroes:"Герои"},en:{common:"common",hard:"hard",madness:"madness",goal:"Current target",Status:"Status",Gold:"Gold",Payday:"Days to payday",Moral:"Moral",Renown:"Renown",smerd:"smerd",dubolom:"dubolom",warrior:"warrior",veteran:"veteran",knight:"knight",hero:"hero",smerds:"smerds",duboloms:"duboloms",warriors:"warriors",veterans:"veterans",knights:"knights",heroes:"heroes"}};const f=["max"];const _={},y=Object.assign(_,{setup:function(d){const u=e(),p=a((()=>u.state.Entity));return(e,a)=>(t(),s(c,null,[r("div",null,[o(r("input",{type:"range",class:"hire",min:"0",max:i(p).Kojania.availableWarriors,"onUpdate:modelValue":a[0]||(a[0]=e=>i(p).tohire=e)},null,8,f),[[n,i(p).tohire,void 0,{number:!0}]]),r("button",{onClick:a[1]||(a[1]=e=>i(p).tohire=i(p).Kojania.availableWarriors),id:"allBtn"},"max")]),r("p",null,"К найму: "+l(i(p).tohire)+" || На сумму: "+l(i(p).tohire*i(p).Kojania.hirecost),1),r("button",{onClick:a[2]||(a[2]=e=>i(u).dispatch("hire",i(p).tohire)),id:"hireBtn"},"Нанять")],64))}});const C=r("br",null,null,-1),q=d(" | "),x=r("br",null,null,-1),M=d("готовых к повешению "),R=r("br",null,null,-1),j=d("не готовых к повышению "),P=r("br",null,null,-1),K=d("всех "),T=r("br",null,null,-1),S=r("div",null,null,-1),D=r("hr",{id:"niceLine2"},null,-1);const L={data:()=>({dictS:{smerd:"smerds",dubolom:"duboloms",warrior:"warriors",veteran:"veterans",knight:"knights",hero:"heroes"}}),props:["name"],methods:{}},N=Object.assign(L,{setup:function(n){const c=e(),p=a((()=>c.state.Entity));return(e,a)=>(t(),s("div",null,[r("div",null,[r("div",null,[d(l(i(p).Dict[e.dictS[n.name]])+":",1),C,d(" В отряде: "+l(i(p).squad[n.name])+" / "+l(i(p).squad_imp[n.name])+"↑ | В резерве: "+l(i(p).squadReserved[n.name])+" / "+l(i(p).squad_imp_reserv[n.name])+"↑ "+l()+" ",1),r("div",null,[r("button",{class:"closeCartButton min-w40",onClick:a[0]||(a[0]=e=>i(c).dispatch("takeReserve",{mode:i(p).radioReservSelect,name:n.name}))},"Забрать"),q,r("button",{class:"closeCartButton min-w40",onClick:a[1]||(a[1]=e=>i(c).dispatch("takeSquad",{mode:i(p).radioReservSelect,name:n.name}))},"Отослать"),x,o(r("input",{type:"radio","onUpdate:modelValue":a[2]||(a[2]=e=>i(p).radioReservSelect=e),name:"smerd",value:"rangUp"},null,512),[[u,i(p).radioReservSelect]]),M,R,o(r("input",{type:"radio","onUpdate:modelValue":a[3]||(a[3]=e=>i(p).radioReservSelect=e),name:"smerd",value:"rangDown"},null,512),[[u,i(p).radioReservSelect]]),j,P,o(r("input",{type:"radio","onUpdate:modelValue":a[4]||(a[4]=e=>i(p).radioReservSelect=e),name:"smerd",value:"all"},null,512),[[u,i(p).radioReservSelect]]),K,T])]),S]),D]))}});const I={key:0,class:"modal-mask"},W={class:"modal-wrapper"},A={class:"modal-position"},G={id:"contracts-block"},Q={id:"contractTable"},O=r("tr",null,[r("th",null,"Тип"),r("th",null,"Мин. мощь"),r("th",null,"Реком. мощь"),r("th")],-1),E={key:0},B=["onClick"],U={class:"modal-mask"},H={class:"modal-wrapper"},V={class:"modal-position"},z={id:"mission-block"},F={id:"plus"},$=r("hr",null,null,-1),J={class:"missionText"},X=r("br",null,null,-1),Y={class:"modal-mask"},Z={class:"modal-wrapper"},ee={class:"modal-position"},ae={id:"reserv-block"},te=["onClick","disabled"],se={key:0},re={key:1},oe=r("p",null,"Общий резерв:",-1),ne=r("hr",null,null,-1),ie=r("p",null,"Расширение гарнизона:",-1),le=d(" | "),ce=r("hr",null,null,-1),de={class:"modal-mask"},ue={class:"modal-wrapper"},pe={class:"modal-position"},me={id:"error-block"},ge=r("br",null,null,-1);const he={data:()=>({currentTab:"smerd",tabs:["smerd","dubolom","warrior","veteran","knight","hero"]})},ve=Object.assign(he,{setup:function(n){const u=e(),b=a((()=>u.state.Entity));return(e,a)=>(t(),s(c,null,[i(b).modalContracts?(t(),s("div",I,[r("div",W,[r("div",A,[r("div",G,[r("table",Q,[O,(t(!0),s(c,null,p(i(b).contract_list,((e,a)=>(t(),s("tbody",null,[i(b).contracts[e.dif].isAvailable?(t(),s("tr",E,[r("td",null,l(i(b).Dict[e.dif]),1),r("td",null,l(e.minPower),1),r("td",null,l(e.recommendedPower),1),r("td",null,[r("button",{class:"closeCartButton",onClick:t=>i(u).dispatch("takeContract",{contract:e,index:a})},"Принять",8,B)])])):m("",!0)])))),256))]),r("button",{class:"closeCartButton",onClick:a[0]||(a[0]=e=>i(b).modalContracts--)},"Пожалуй не сейчас...")])])])])):m("",!0),o(r("div",U,[r("div",H,[r("div",V,[r("div",z,[(t(!0),s(c,null,p(i(b).niceQuestMsgs,((e,a)=>(t(),s("p",F,l(e),1)))),256)),$,r("p",J,l(i(b).modalMissionText),1),X,r("button",{class:"closeCartButton",onClick:a[1]||(a[1]=e=>i(b).modalMission--)},"Понимаю")])])])],512),[[g,i(b).modalMission]]),o(r("div",Y,[r("div",Z,[r("div",ee,[r("div",ae,[(t(!0),s(c,null,p(e.tabs,((a,r)=>(t(),s("button",{key:a,class:h(["tab-button",{active:e.currentTab===a}]),onClick:t=>e.currentTab=a,disabled:!(i(b).wa[a]>0)},[i(b).wa[a]>0?(t(),s("span",se,l(i(b).rangName[a])+l(),1)):(t(),s("span",re,"???"))],10,te)))),128)),oe,d(" "+l(i(u).getters.totalReserved)+" из "+l(i(b).reservCapacity)+" ",1),r("p",null,"Ежедневный доход от гарнизона: "+l(i(u).getters.reservTax),1),r("p",null,"Ежедневный опыт гарнизона: "+l(i(u).getters.reservExp),1),ne,v(N,{name:e.currentTab},null,8,["name"]),ie,r("button",{class:"closeCartButton min-w40",onClick:a[2]||(a[2]=e=>i(u).dispatch("buyReservSpace",1))},"+1 "),le,r("button",{class:"closeCartButton min-w40",onClick:a[3]||(a[3]=e=>i(u).dispatch("buyReservSpace",10))},"+10"),r("p",null,"Цена 1 места: "+l(i(b).costReservPlace),1),r("p",null,"Цена 10 мест: "+l(i(b).costReservPlacex10),1),ce,r("button",{class:"closeCartButton",onClick:a[4]||(a[4]=e=>i(b).modalReservation--)},"Ясненько")])])])],512),[[g,i(b).modalReservation]]),o(r("div",de,[r("div",ue,[r("div",pe,[r("div",me,[d(l(i(b).modalErrorText)+" ",1),ge,r("button",{class:"closeCartButton",onClick:a[5]||(a[5]=e=>i(b).modalError--)},"Понимаю")])])])],512),[[g,i(b).modalError]])],64))}});const be={class:"tab"},ke={class:"row"},we=r("hr",{id:"niceLine"},null,-1),fe={class:"rangSpecifics"},_e={class:"rangText",id:"plus"},ye={class:"rangText",id:"minus"},Ce=r("br",null,null,-1),qe=["src"],xe=r("hr",{id:"niceLine2"},null,-1),Me={class:"rangText",id:"rangText"};const Re={data:()=>({rangInfo:{smerd:{info:"Иногда попадаются толковые ребята. Но в среднем -- пушечное мясо, готовое обмочить штанишки при виде чуть грозного противника.",plus:["Дешевый","Легко обучается"],minus:["Массово гибнет"],url:"1"},dubolom:{info:"Дуболом отличился высоким боевым духом. Мастерство и экипировка все еще могут оставлять желать лучшего, но, по крайней мере, он не подводет в сложный и отвественный момент.",plus:["Неприхотлив","Обучение без рисков"],minus:["Слегка высокая смертность"],url:"2"},warrior:{info:"Воин звучит гордо. Хорошие навыки, разнообразное и качественное снаряжение, а так же непоколебимость -- это звание получают не просто так.",plus:["Сильный боец","Низкая смертность"],minus:["Обучение в бою"],url:"3"},veteran:{info:"Ветераны нашли способ пройти путь воина и сохранить большую из своих частей тела. Приобрели внушительную гибкость в снаряжении и умение выпутываться из сложной ситуации. Великолепные боевые навыки. Готовность успешно выполнить любой, самый безумный приказ. Хотя и это не предел.",plus:["Сильный боец","Очень низкая смертность"],minus:["Высокое содержание","Обучение в бою"],url:"4"},knight:{info:"Человеческая элита, лучшие из лучших. Без отваги на поле боя, граничащей с безумием, до этого ранга не дойти. Самые лучшие трофеи, в первую очередь, попадут в их загребущие до интересностей рученки. Качество их снаряжения, как и расходы в золоте, взлетают до запредельного уровня.",plus:["Очень сильный боец","Крайне живучий гад"],minus:["Очень высокое содержание","Обучается в сложных битвах"],url:"5"},hero:{info:"Специализация героев может быть самой разной. Умения на грани здравого смысла. Сотни и тысячи поверженных врагов на личном счету. Различные могущественные артефакты -- все это обязательные атрибуты Героев.",plus:["Сила не поддается описанию","Условно бессмертен"],minus:["Безумно сложное обучение"],url:"6"}},rangName:{smerd:"Рекрут",dubolom:"Дуболом",warrior:"Воин",veteran:"Ветеран",knight:"Рыцарь",hero:"Герой"}}),props:["name"],methods:{}},je=Object.assign(Re,{setup:function(o){const n=e(),d=a((()=>n.state.Entity));return(e,a)=>{return t(),s("div",be,[r("div",ke,[r("div",null,[r("h2",null,l(i(d).rangName[o.name]),1),we,r("div",fe,[(t(!0),s(c,null,p(e.rangInfo[o.name].plus,(e=>(t(),s("p",_e,"+ "+l(e),1)))),256)),(t(!0),s(c,null,p(e.rangInfo[o.name].minus,(e=>(t(),s("p",ye,"- "+l(e),1)))),256)),Ce,r("p",null,"Cодержание: "+l(i(d).wpc[o.name]),1)])]),r("div",null,[r("div",null,[r("img",{id:"pic",src:(n=e.rangInfo[o.name].url,new URL({"./rang-avarars/1.png":"/Kojania/assets/1.ea454ab5.png","./rang-avarars/2.png":"/Kojania/assets/2.c8991c68.png","./rang-avarars/3.png":"/Kojania/assets/3.72bd031c.png","./rang-avarars/4.png":"/Kojania/assets/4.7cf7f6ff.png","./rang-avarars/5.png":"/Kojania/assets/5.30a644bf.png","./rang-avarars/6.png":"/Kojania/assets/6.bd119c05.png"}[`./rang-avarars/${n}.png`],window.location).href),alt:"",srcset:""},null,8,qe)])])]),xe,r("p",Me,l(e.rangInfo[o.name].info),1),r("button",{class:"closeCartButton",onClick:a[0]||(a[0]=e=>i(d).show.rangInfo=!1)},"Закрыть")]);var n}}});const Pe={class:"modal-position",style:{"margin-left":"-185px"}},Ke={id:"tab-buttons-cont"},Te=["onClick","disabled"],Se={key:0},De={key:1};const Le={components:{RangCart:je},data:()=>({currentTab:"smerd",tabs:["smerd","dubolom","warrior","veteran","knight","hero"]})},Ne=Object.assign(Le,{setup:function(o){const n=e(),d=a((()=>n.state.Entity));return(e,a)=>(t(),s("div",Pe,[r("div",Ke,[(t(!0),s(c,null,p(e.tabs,((a,r)=>(t(),s("button",{key:a,class:h(["tab-button",{active:e.currentTab===a}]),onClick:t=>e.currentTab=a,disabled:!(i(d).wa[a]>0)},[i(d).wa[a]>0?(t(),s("span",Se,l(i(d).rangName[a])+l(),1)):(t(),s("span",De,"???"))],10,Te)))),128))]),v(je,{name:e.currentTab},null,8,["name"])]))}});const Ie={id:"content"},We={id:"localContainerPositioner"},Ae={id:"local"},Ge={id:"goalContainerPositioner"},Qe={id:"goalContainer"},Oe={align:"left"},Ee={id:"globalInfoRow"},Be=r("hr",{class:"svl"},null,-1),Ue=r("hr",{class:"svl"},null,-1),He=r("hr",null,null,-1),Ve={id:"globalInfoRow"},ze=r("hr",{class:"svl"},null,-1),Fe=r("hr",{class:"svl"},null,-1),$e={id:"contentPositioner"},Je={class:"kojaniaCont"},Xe=r("h3",null,"Кожания",-1),Ye=d("Отношения: "),Ze=d("Уровень процветания: "),ea=d(" Демоническая угроза: "),aa=d("Цена рекрута: "),ta=r("br",null,null,-1),sa={class:"squadCont"},ra=r("h3",null,"Состав отряда",-1),oa={class:"squadList"},na={key:0},ia=["onClick","toolTip"],la=["onClick","toolTip"],ca=["onClick","toolTip"],da=["onClick","toolTip"],ua=r("br",null,null,-1),pa={class:"modal-mask"},ma={class:"modal-wrapper"},ga={id:"day"},ha=r("br",null,null,-1),va={key:0},ba=r("hr",null,null,-1),ka={id:"eventLogCont"},wa=r("h3",null,"События",-1),fa={class:"ml"},_a=d(" ..."),ya=r("br",null,null,-1),Ca={class:"ml"},qa=r("hr",null,null,-1),xa=r("br",null,null,-1);const Ma={data:()=>({local:"ru"}),methods:{l10n(e){return"en"==this.local&&void 0===w[this.local][e]?e:w[this.local][e]}}},Ra=Object.assign(Ma,{setup:function(n){const u=e(),b=a((()=>u.state.Entity));return u.commit("setDict","ru"),(e,a)=>(t(),s("div",Ie,[r("div",We,[r("div",Ae,[i(b).isDebug?(t(),s("button",{key:0,onClick:a[0]||(a[0]=e=>i(u).commit("setDict","en")),class:"btnex"},"en")):m("",!0),i(b).isDebug?(t(),s("button",{key:1,onClick:a[1]||(a[1]=e=>i(u).commit("setDict","ru")),class:"btnex"},"ru")):m("",!0)])]),r("div",Ge,[r("div",Qe,[r("h3",null,l(i(b).Dict.goal),1),r("p",null,l(i(b).quests[i(b).quests.active].goal),1)])]),r("div",null,[r("h3",Oe,l(i(b).Dict.Status),1)]),r("div",Ee,[r("p",null,l(i(b).Dict.Gold)+": "+l(i(b).gold),1),Be,r("p",null,l(i(b).Dict.Moral)+": "+l(i(b).squadState.morality),1),r("button",{class:"moralButton",onClick:a[2]||(a[2]=()=>{})},"▼"),Ue,r("p",null,l(i(b).Dict.Renown)+": "+l(Math.floor(i(b).squadState.reputation)),1)]),He,r("div",Ve,[r("p",null,l(i(b).Dict.Payday)+": "+l(i(b).squadState.paydayleft),1),ze,r("p",null,"Жалование: "+l(i(u).getters.payday),1),Fe,r("button",{onClick:a[3]||(a[3]=()=>{})},"Финансы")]),r("div",$e,[r("div",Je,[Xe,r("p",null,[Ye,r("span",{class:h(i(u).getters.kojaniaReputation[1])},l(i(u).getters.kojaniaReputation[0]),3)]),r("p",null,[Ze,r("span",{class:h(i(u).getters.kojaniaProsperity[1])},l(i(u).getters.kojaniaProsperity[0]),3)]),r("p",null,[ea,r("span",{class:h(i(u).getters.demonicPresence[1])},l(i(u).getters.demonicPresence[0]),3)]),r("p",null,[aa,r("span",null,l(i(b).Kojania.hirecost),1)]),r("p",null,"Свободные рекруты: "+l(i(b).Kojania.availableWarriors),1),v(y),ta,o(r("div",null,[r("p",null,"Контракты: "+l(i(b).availableContracts),1),o(r("button",{onClick:a[4]||(a[4]=e=>i(u).commit("openContractList"))},"Прием контрактов",512),[[g,i(b).availableContracts>0]])],512),[[g,i(b).isAvailableContracts&&!i(b).contract_is_taken[3]]]),o(r("p",null,"Принят контракт",512),[[g,i(b).contract_is_taken[0]]]),o(r("p",null,"Принят сложный контракт",512),[[g,i(b).contract_is_taken[1]]]),o(r("p",null,"Принят безумный контракт",512),[[g,i(b).contract_is_taken[2]]])]),r("div",sa,[ra,(t(!0),s(c,null,p(i(b).squad,((e,a)=>(t(),s("p",oa,[e>0?(t(),s("div",na,[d(l(i(b).rangName[a])+": "+l(e)+" ",1),i(b).squad_imp[a]>0&&i(b).wa[a]>1?(t(),s("button",{key:0,onClick:e=>i(u).dispatch("rangUp",{rang:a,count:1}),toolTip:"Стоимость: "+2*i(b).wpc[a],class:"tooltip"}," 1+ ",8,ia)):m("",!0),i(b).squad_imp[a]>=10&&i(b).wa[a]>1?(t(),s("button",{key:1,onClick:e=>i(u).dispatch("rangUp",{rang:a,count:10}),toolTip:"Стоимость: "+2*i(b).wpc[a]*10,class:"tooltip"}," 10+ ",8,la)):m("",!0),i(b).squad_imp[a]>=100&&i(b).wa[a]>1?(t(),s("button",{key:2,onClick:e=>i(u).dispatch("rangUp",{rang:a,count:100}),toolTip:"Стоимость: "+2*i(b).wpc[a]*100,class:"tooltip"}," 100+ ",8,ca)):m("",!0),i(b).squad_imp[a]>1&&i(b).wa[a]>1?(t(),s("button",{key:3,onClick:e=>i(u).dispatch("rangUp",{rang:a,count:i(b).squad_imp[a]}),toolTip:"Стоимость: "+i(b).squad_imp[a]*i(b).wpc[a]*2,class:"tooltip"},l(i(b).squad_imp[a])+"+ ",9,da)):m("",!0)])):m("",!0)])))),256)),ua,r("p",null,"Всего людей: "+l(i(u).getters.totalPeople),1),r("p",null,"Боевая мощь: "+l(i(u).getters.power),1),i(b).wa.smerd>0?(t(),s("button",{key:0,onClick:a[5]||(a[5]=e=>i(u).commit("openRangInfo"))},"? о рангах")):m("",!0),i(b).isArmyReserving?(t(),s("button",{key:1,onClick:a[6]||(a[6]=e=>i(u).commit("openReservModal")),class:"btnex"},"Резерв")):m("",!0)])]),o(r("div",pa,[r("div",ma,[v(Ne)])],512),[[g,i(b).show.rangInfo]]),r("div",null,[r("span",ga,"День: "+l(i(b).day),1),ha,r("button",{onClick:a[7]||(a[7]=e=>i(u).dispatch("toNextDay")),class:"btnex"},"Завершение дня.")]),i(b).isTargetAW?(t(),s("p",va,"Прогноз рекрутов на завтра: "+l(i(u).getters.targetAvailableWarriors),1)):m("",!0),ba,r("div",ka,[wa,r("p",fa,l(i(b).messageLog1),1),_a,ya,(t(!0),s(c,null,p(i(b).messageLog2,((e,a)=>(t(),s("p",Ca,l(i(b).messageLog2[a]),1)))),256))]),qa,i(b).isDebug?(t(),s("button",{key:1,onClick:a[8]||(a[8]=e=>i(u).commit("addRep")),class:"btnex"},"+50 rep")):m("",!0),i(b).isDebug?(t(),s("button",{key:2,onClick:a[9]||(a[9]=e=>i(u).commit("addx2Rep")),class:"btnex"},"x2 rep")):m("",!0),i(b).isDebug?(t(),s("button",{key:3,onClick:a[10]||(a[10]=e=>i(u).commit("addRen")),class:"btnex"},"+50 ren")):m("",!0),i(b).isDebug?(t(),s("button",{key:4,onClick:a[11]||(a[11]=e=>i(u).commit("addGold")),class:"btnex"},"x10 gold")):m("",!0),i(b).isDebug?(t(),s("button",{key:5,onClick:a[12]||(a[12]=e=>i(u).commit("addDaemons")),class:"btnex"},"x2 daemons")):m("",!0),i(b).isDebug?(t(),s("button",{key:6,onClick:a[13]||(a[13]=e=>i(u).commit("addArmy")),class:"btnex"},"addArmy")):m("",!0),xa,i(b).isDebug?(t(),s("button",{key:7,onClick:a[14]||(a[14]=e=>i(u).dispatch("showWhatHiden")),class:"btnex"},"showWhatHiden()")):m("",!0),v(ve)]))}});const ja=b({modules:{Entity:{state:()=>({local:"ru",day:1,gold:1120,show:{rangInfo:!1},squadState:{paydayleft:6,morality:50,reputation:0},squad:{smerd:6,dubolom:0,warrior:0,veteran:0,knight:0,hero:0},tohire:0,wa:{smerd:0,dubolom:0,warrior:0,veteran:0,knight:0,hero:0},wpc:{smerd:7,dubolom:12,warrior:35,veteran:100,knight:300,hero:1e3},wp:{smerd:10,dubolom:16,warrior:32,veteran:50,knight:100,hero:700},wdc:{smerd:40,dubolom:16,warrior:7,veteran:3,knight:2,hero:.01},warriorsdie:{smerd:0,dubolom:0,warrior:0,veteran:0,knight:0,hero:0},exp:{smerd:[60,0],dubolom:[200,0],warrior:[400,0],veteran:[1e3,0],knight:[6e3,0],hero:[1e6,0]},expbaseinc:{smerd:[1,3,4,5],dubolom:[2,3,8,12],warrior:[3,6,12,24],veteran:[4,8,16,36],knight:[5,10,30,90],hero:[0,0,0,0]},expreward:0,squad_imp:{smerd:0,dubolom:0,warrior:0,veteran:0,knight:0,hero:0},squadReserved:{smerd:0,dubolom:0,warrior:0,veteran:0,knight:0,hero:0},squad_imp_reserv:{smerd:0,dubolom:0,warrior:0,veteran:0,knight:0,hero:0},reservCapacity:10,costReservPlace:0,costReservPlacex10:0,radioReservSelect:"all",expReserv:{smerd:0,dubolom:0,warrior:0,veteran:0,knight:0,hero:0},Kojania:{demonicPresence:30,demonicPresenceList:[{num:200,className:"white-grade",text:"редкие одиночные цели"},{num:1e3,className:"green-grade",text:"редкие малые стаи"},{num:2500,className:"yellow-grade",text:"возможны крупные стаи"},{num:5e3,className:"red-grade",text:"орды демонов"},{num:9e3,className:"black-grade",text:"чудовищные орды демонов"}],prosperity:250,prosperityList:[{num:50,className:"black-grade",text:"пепелище"},{num:200,className:"red-grade",text:"восстановление"},{num:1e3,className:"yellow-grade",text:"укрепление"},{num:2500,className:"green-grade",text:"стабильность"},{num:5e3,className:"white-grade",text:"экспансия"}],reputation:0,repSumm:0,reputationGain:[],reputationList:[{num:108,className:"yellow-grade",text:"нейтральные"},{num:250,className:"green-grade",text:"открытые"},{num:1e3,className:"white-grade",text:"теплые"},{num:5e3,className:"white-grade",text:"дружеские"},{num:1e4,className:"white-grade",text:"союзные"}],goldBonus:1,enemyBonus:1,availableWarriors:1,targetAvailableWarriors:2,baseHireCost:140,hirecost:14},messageLog1:"",messageLog2:[],battleReport:{result:{key:0,text:[]},gold:0,exp:0},Dict:{},info:["Демоны -- крайне опасные существа. Даже слабейший из них, за счет невероятной грубой силы и живучести, требует слаженной работы десятка людей. У них множество подвидов с различными особенностями. Но, как правило, дальнобойное оружие и добротные копья делают свое дело. По возможности лучше использовать ловушки и не допускать сближения.","Тушки демонов пользуются хорошим спросом. Почти каждую часть их тела можно считать стратегическим ресурсом. Кроме съедобного мяса это отличные доспехи из кожи. Вполне боеспособные луки и арбалеты из прочных связок. Невероятно огромный список амуниции из костей. Каждый участник охоты или сражения получает часть прибыли с этих трофеев."],quests:{active:"hire_10_smerd",hire_10_smerd:{goal:"Нанять 10 рекрутов",finishText:"Рекруты набираются опыта в бою и на тренировке. Когда они будут готовы стоит подумать об их продвижении. При продвижении придется заплатить разовое 2х недельное жалование. Но зато бойцы обязуются улучшить снаряжение, что сделает их сильнее уже в следующем бою и мотивирует на новые подвиги.",niceQuestMsgs:["Можно продвигать рекрутов.","Доступны простые контракты."]},found_contract:{goal:"Выполнить контракт.",finishText:"Время от времени будут появляться различные контракты. Их выполнение важно как для Кожании так и для нас. Хотя мы и не обызаны под этим подписываться, без Кожании у нас мало шансов. Заказчик укажет минимальные требования и предпологаемые проблемы... Однако реальность всегда может оказаться намного хуже самых смелых ожиданий. Если мы не хотим потерять все, нам придется быть к этому, по возможности, готовыми.",niceQuestMsgs:["Можно продвигать дуболомов.","Доступны сложные контракты."]},take_3000_gold:{goal:"3000 золота и 500 мощи",finishText:"Местный староста -- солидный господин. Он весьма снисходителен к гостям и готов бесплатно предоставлять некоторый уровень безопасности. Правда, вне центральной крепости, которая с каждым днем становится все более массивной. Благодаря его политике золото в цене даже в такие времена, а мы без проблем можем купить хорошую экипировку для наших воинов.",niceQuestMsgs:["Отдана 1000 золота, отношения улучшились.","Доступен прогноз рекрутов на следующий день.","Доступно резервирование отрядов."]},take_20_warriors:{goal:"20 воинов и 2000 мощи",finishText:"Нужно полностью захватить и обустроить рудные шахты и помочь с остальными ресурсами, расположенными далеко от поселения. Некоторые контракты -- чистое самоубийство, но вместе с тем их стратегическое значение крайне велико, возможно деже жизненно необходимо.",niceQuestMsgs:["Можно продвигать воинов","Доступны безумные контракты."]},take_10_veterans:{goal:"10 ветеранов и 5000 мощи",finishText:"Наша известность работает в обе стороны. В прославленный отряд присоединяется больше людей и этими людьми проще управлять. Нам доверяют самое лучшие оружие и щедро платят за трофеи. Однако лишь совсем ленивый или в конец тупой не заметил бы наши слабые места. Чем дольше мы сидим на одном месте, тем больше внимания в округе мы привлекаем. За стенами это не так заметно. Но к каждому контракту нужно относиться с осторожностью.",niceQuestMsg1:"Можно продвигать ветеранов",niceQuestMsgs:["Можно продвигать ветеранов."]},take_10_knights:{goal:"10 рыцарей и 9000 мощи",finishText:"Туши убитых демонов полны сюрпризов. Металлурги и алхимики делают исключительные открытия и создают невероятные вещи. Конечно, кто-то должен эти туши добыть, как правило ценой своих жизней, а потом кто-то должен с ними как следует поработать. Но в такие времена сам факт прогресса уже вселяет надежду.",niceQuestMsgs:["Можно продвигать рыцарей."]},take_10_heroes:{goal:"10 героев и 40к мощи",finishText:"Победа (нет)",niceQuestMsgs:[""]}},isAvailableContracts:!1,contracts:{common:{isAvailable:!1,generationChance:[12,12],revard:{first:200,loot:20},prosperityChange:6,reputationCnange:8,chancetoLose:[0,10],basePower:50,scaleRange:6},hard:{isAvailable:!1,generationChance:[5,5],revard:{first:600,loot:35},prosperityChange:10,reputationCnange:16,chancetoLose:[0,4],basePower:300,scaleRange:4},madness:{isAvailable:!1,generationChance:[2,2],revard:{first:1800,loot:50},prosperityChange:20,reputationCnange:32,chancetoLose:[0,2],basePower:1e3,scaleRange:3}},contract_list:[],availableContracts:0,contract_is_taken:[0,0,0,0],rangName:{smerd:"Рекрут",dubolom:"Дуболом",warrior:"Воин",veteran:"Ветеран",knight:"Рыцарь",hero:"Герой"},isTargetAW:!1,isArmyReserving:!1,modalError:!1,modalMission:!1,modalContracts:!1,modalReservation:!1,modalErrorText:"",modalMissionText:"",niceQuestMsgs:[],takenContract:{},isDebug:!1}),mutations:{setDict(e,a){e.Dict=w[a];for(const t in w.en)void 0===e.Dict[t]&&(e.Dict[t]=w.en[t])},toNextDay(e){e.day++,e.squadState.paydayleft--,e.Kojania.demonicPresence+=.01*e.Kojania.demonicPresence+1},time2Pay(e,a){e.squadState.paydayleft+=7,e.gold-=a},hire(e,a){e.squad.smerd+=a,e.gold-=e.Kojania.hirecost*a,e.Kojania.availableWarriors-=a},hire_reset_helper(e,a){e.Kojania.availableWarriors<a&&(e.tohire=e.Kojania.availableWarriors)},buyReservSpace(e,a){e.reservCapacity+=a,e.costReservPlace=50+5*(e.reservCapacity-20),e.costReservPlacex10=275+10*(50+5*(e.reservCapacity-20))},availableWarriors(e){e.Kojania.availableWarriors=Math.floor(e.Kojania.availableWarriors*Math.min(.6*(1+Math.pow(e.Kojania.prosperity,.5)/100),1)+Math.random()*Math.pow(e.Kojania.reputation+10,.7)),e.Kojania.availableWarriors<e.tohire&&(e.tohire=e.Kojania.availableWarriors)},garnisonManager(e,a){e.gold+=a;for(const t in e.squadReserved)if(e.expReserv[t]+=e.expbaseinc[t][0]*e.squadReserved[t],e.expReserv[t]>e.exp[t][0]){const a=Math.floor(e.expReserv[t]/e.exp[t][0]);e.squad_imp_reserv[t]+=a,e.expReserv[t]-=a*e.exp[t][0]}},rangUp(e,{rang:a,count:t}){switch(e.squad_imp[a]-=t,e.squad[a]-=t,e.gold-=t*e.wpc[a]*2,a){case"smerd":e.squad.dubolom+=t;break;case"dubolom":e.squad.warrior+=t;break;case"warrior":e.squad.veteran+=t;break;case"veteran":e.squad.knight+=t;break;case"knight":e.squad.hero+=t}},clearLog(e){e.messageLog1="",e.messageLog2.length=0},openContractList(e){e.modalContracts=!0},openRangInfo(e){e.show.rangInfo=!0},openReservModal(e){e.modalReservation=!0},error(e,a){e.modalErrorText=a,e.modalError=!0},addGold(e){e.gold*=10},addRep(e){e.Kojania.reputation+=50,console.log(e.Kojania.reputation)},addRen(e){e.squadState.reputation+=50,console.log(e.squadState.reputation)},addx2Rep(e){e.Kojania.reputation*=2,console.log(e.Kojania.reputation)},addDaemons(e){e.Kojania.demonicPresence*=2,console.log(e.Kojania.demonicPresence)},addArmy(e){for(let a in e.squad)e.squad[a]+=2,e.squad[a]*=2}},actions:{toNextDay({commit:e,state:a,getters:t,dispatch:s}){e("clearLog"),e("toNextDay"),0==a.squadState.paydayleft&&e("time2Pay",t.payday),e("availableWarriors"),e("garnisonManager",t.reservTax),s("checkQuest"),s("generateContracts"),s("battlesimulation"),s("contractManager")},checkQuest({commit:e,state:a,getters:t,dispatch:s},r){let o=a.quests,n=a.squad;switch(o.active){case"hire_10_smerd":n.smerd>=10&&(s("showQuestMsg",o),a.wa.smerd=2,a.wa.dubolom=1,a.isAvailableContracts=!0,a.contracts.common.isAvailable=!0,o.active="found_contract",s("generateContract",{str:"common",minPower:50,recPw:80,rlPw:90,e:0,f:0,g:5,h:5}).then((e=>{a.contract_list.push(e)})));break;case"found_contract":r&&(s("showQuestMsg",o),a.wa.dubolom=2,a.wa.warrior=1,a.contracts.hard.isAvailable=!0,o.active="take_3000_gold");break;case"take_3000_gold":a.gold>3e3&&t.power>500&&(a.gold-=1e3,a.Kojania.reputation+=50,a.isTargetAW=!0,a.isArmyReserving=!0,s("showQuestMsg",o),o.active="take_20_warriors");break;case"take_20_warriors":n.warrior>=20&&t.power>2e3&&(s("showQuestMsg",o),a.wa.warrior=2,a.wa.veteran=1,a.contracts.madness.isAvailable=!0,o.active="take_10_veterans");break;case"take_10_veterans":n.veteran>=10&&t.power>5e3&&(s("showQuestMsg",o),a.wa.veteran=2,a.wa.knight=1,o.active="take_10_knights");break;case"take_10_knights":n.knight>=10&&t.power>9e3&&(s("showQuestMsg",o),a.wa.knight=2,a.wa.hero=1,o.active="take_10_heroes");break;case"take_10_heroes":n.hero>=10&&t.power>2e4&&s("showQuestMsg",o)}},generateContracts({commit:e,state:a,getters:t,dispatch:s}){let r=a.contracts,o=a.contract_list,n=r.common.generationChance,i=r.common.chancetoLose,l=r.hard.generationChance,c=r.hard.chancetoLose,d=r.madness.generationChance,u=r.madness.chancetoLose;const p=a.Kojania.enemyBonus;if(n[1]/100>Math.random()){let e=Math.round((Math.random()*(r.common.scaleRange-1)+1)*r.common.basePower);const t=Math.round(e*(Math.random()/1.5+1));s("generateContract",{str:"common",minPower:e,recPw:t,rlPw:Math.round(.9*t*(1+Math.sqrt(a.Kojania.demonicPresence)/75)*p),e:i[0],f:i[1],g:r.common.prosperityChange,h:r.common.reputationCnange}).then((e=>{o.push(e)})),n[1]-=100}else n[1]=n[1]+n[0];if(l[1]/100>Math.random()){let e=Math.round((Math.random()*(r.hard.scaleRange-1)+1)*r.hard.basePower);const t=Math.round(e*(Math.random()/1.5+1));s("generateContract",{str:"hard",minPower:e,recPw:t,rlPw:Math.round(.9*t*(1+Math.sqrt(a.Kojania.demonicPresence)/50)*p),e:c[0],f:c[1],g:r.hard.prosperityChange,h:r.hard.reputationCnange}).then((e=>{o.push(e)})),l[1]-=100}else l[1]=l[1]+l[0];if(d[1]/100>Math.random()){let e=Math.round((Math.random()*(r.madness.scaleRange-1)+1)*r.madness.basePower);const t=Math.round(e*(Math.random()/1.5+1));s("generateContract",{str:"madness",minPower:e,recPw:t,rlPw:Math.round(.9*t*(1+Math.sqrt(a.Kojania.demonicPresence)/25)*p),e:u[0],f:u[1],g:r.madness.prosperityChange,h:r.madness.reputationCnange}).then((e=>{o.push(e)})),d[1]-=100}else d[1]=d[1]+d[0]},generateContract:(e,{str:a,minPower:t,recPw:s,rlPw:r,e:o,f:n,g:i,h:l})=>({dif:a,minPower:t,recommendedPower:s,realPower:r,chancetoLose:o,changeChance:n,prosperity:i,reputation:l}),contractManager({state:e,dispatch:a}){let t=e.contract_list;e.availableContracts=0;for(const s in t)e.contracts[t[s].dif].isAvailable&&e.availableContracts++,Math.random()<t[s].chancetoLose/100?(e.isDebug&&a("log2","Кожания теряет процветание, "+e.Dict[t[s].dif]+" контракт просрочен."),e.Kojania.prosperity-=t[s].prosperity/2,e.Kojania.prosperity<1&&(e.Kojania.prosperity=1),e.contracts[t[s].dif].isAvailable&&e.availableContracts--,t.splice(s,1)):t[s].chancetoLose+=t[s].changeChance},takeContract({state:e},{contract:a,index:t}){switch(e.takenContract=a,a.dif){case"common":e.contract_is_taken[0]=1,e.contract_is_taken[3]=1;break;case"hard":e.contract_is_taken[1]=1,e.contract_is_taken[3]=1;break;case"madness":e.contract_is_taken[2]=1,e.contract_is_taken[3]=1}e.contract_list.splice(t,1),e.modalContracts--},async battlesimulation({state:e,dispatch:a,getters:t}){if(e.contract_is_taken[3])if(e.takenContract.minPower<t.power){const s=e.takenContract.realPower,r=await a("combatScenario",{enemy:s,ally:t.power});if(e.contract_is_taken[0])if("retreat"==r[0]){a("battleResoult",{msg:"Пришлось отступать. Многие бойцы отдали жизни ради сохранения отряда. Это тяжелый удар.",dif:r[1],ep:s,ep_mlp:3,gold:0,goldMlp:0,reputation:0}),a("expGained",3),a("contractIsOver","fail")}else if("very hard"==r[0]){a("battleResoult",{msg:"Враг был намного сильнее. Но именно в таких битвах куется слава и репутация.",dif:r[1],ep:s,ep_mlp:1.5,gold:200,goldMlp:.7,reputation:12}),a("expGained",3),a("contractIsOver","win")}else if("hard"==r[0]){a("battleResoult",{msg:"Почти равный бой. Приобретен ценный опыт.",dif:r[1],ep:s,ep_mlp:1,gold:200,goldMlp:.7,reputation:5}),a("expGained",2),a("contractIsOver","win")}else a("battleResoult",{msg:"Враг оказался намного слабее нас.",dif:r[1],ep:s,ep_mlp:.4,gold:200,goldMlp:.7,reputation:3}),a("expGained",1),a("contractIsOver","win");else if(e.contract_is_taken[1])if("retreat"==r[0]){a("battleResoult",{msg:"Пришлось отступать. Многие бойцы отдали жизни ради сохранения отряда. Это тяжелый удар.",dif:r[1],ep:s,ep_mlp:3,gold:0,goldMlp:0,reputation:0}),a("expGained",3),a("contractIsOver","fail")}else if("very hard"==r[0]){a("battleResoult",{msg:"Враг был намного сильнее. Но именно в таких битвах куется слава и репутация.",dif:r[1],ep:s,ep_mlp:1.5,gold:600,goldMlp:.9,reputation:18}),a("expGained",3),a("contractIsOver","win")}else if("hard"==r[0]){a("battleResoult",{msg:"Почти равный бой. Приобретен ценный опыт. ",dif:r[1],ep:s,ep_mlp:1,gold:600,goldMlp:.9,reputation:10}),a("expGained",2),a("contractIsOver","win")}else a("battleResoult",{msg:"Враг оказался намного слабее нас.",dif:r[1],ep:s,ep_mlp:.4,gold:600,goldMlp:.9,reputation:8}),a("expGained",1),a("contractIsOver","win");else if("retreat"==r[0]){a("battleResoult",{msg:"Пришлось отступать. Многие бойцы отдали жизни ради сохранения отряда. Это тяжелый удар.",dif:r[1],ep:s,ep_mlp:3,gold:0,goldMlp:0,reputation:0}),a("expGained",3),a("contractIsOver","fail")}else if("very hard"==r[0]){a("battleResoult",{msg:"Враг был намного сильнее. Но именно в таких битвах куется слава и репутация.",dif:r[1],ep:s,ep_mlp:1.5,gold:1800,goldMlp:1,reputation:30}),a("expGained",3),a("contractIsOver","win")}else if("hard"==r[0]){a("battleResoult",{msg:"Почти равный бой. Приобретен ценный опыт. ",dif:r[1],ep:s,ep_mlp:1,gold:1800,goldMlp:1,reputation:20}),a("expGained",2),a("contractIsOver","win")}else a("battleResoult",{msg:"Враг оказался намного слабее нас.",dif:r[1],ep:s,ep_mlp:.4,gold:1800,goldMlp:1,reputation:18}),a("expGained",1),a("contractIsOver","win")}else a("log1","У нас не хватит сил на выполнение контракта."),a("contractIsOver","fail");else{let o=e.Kojania.demonicPresence/e.Kojania.prosperity,n=Math.sqrt(e.Kojania.demonicPresence+100)*o,i=10*n*(1+Math.sqrt(e.squadState.reputation)/10*(1+Math.sqrt(e.Kojania.demonicPresence)/100)),l=(s=n,r=i,Math.random()*(r-s)+s);if(o<1){const e=1-o;if(l<t.power/10){const a=t.power/10;l=Math.min((1+e)*l,a)}}if(t.power>0){let e=await a("combatScenario",{enemy:l,ally:t.power});if("retreat"==e[0]){a("battleResoult",{msg:"Охота обернулась адом для жителей, хотя мы и попытались немного снизить потери.",dif:e[1],ep:l,ep_mlp:2,gold:0,goldMlp:0,reputation:0})}else if("very hard"==e[0]){a("battleResoult",{msg:"Охота превратилась в кровавую битву. Жители благодарны за подаренный им день и готовы щедро заплатить за трофеи.",dif:e[1],ep:l,ep_mlp:1.25,gold:0,goldMlp:1,reputation:8}),a("expGained",3)}else"hard"==e[0]?(a("battleResoult",{msg:"Хоть и было сложно, славная выдалась охота.",dif:e[1],ep:l,ep_mlp:1,gold:0,goldMlp:.7,reputation:3}),a("expGained",2)):"nice battle"==e[0]?(a("battleResoult",{msg:"На патруле возникли сложности.",dif:e[1],ep:l,ep_mlp:.6,gold:0,goldMlp:.65,reputation:1}),a("expGained",1)):(a("battleResoult",{msg:"Охота и тренировки прошли гладко.",dif:e[1],ep:l,ep_mlp:.5,gold:0,goldMlp:.6,reputation:.25}),a("expGained",0))}}var s,r},battleResoult({state:e,dispatch:a},{msg:t,dif:s,ep:r,ep_mlp:o,gold:n,goldMlp:i,reputation:l}){a("log1",t);const c=Math.round((n+r*i)*e.Kojania.goldBonus);c>0&&(a("log2","Получено золота: "+c),e.gold+=c),e.squadState.reputation+=l,a("squadLoses",{dif:s,ep_mlp:o})},squadLoses({state:e,dispatch:a},{dif:t,ep_mlp:s}){const r=Object.entries(e.squad);let o=!1;if(r.forEach(((a,r,n)=>{const i=Math.floor(Math.min(n[r][1]*e.wdc[n[r][0]]/100*t*s,n[r][1]));i>0&&(o=!0,e.warriorsdie[n[r][0]]=i),e.squad[n[r][0]]-=i})),o){for(var n in a("log2","-----"),a("log2","Потери"),e.warriorsdie)e.squad[n]>0&&(e.squad_imp[n]-=Math.floor(e.warriorsdie[n]*(e.squad_imp[n]/e.squad[n]))),e.warriorsdie[n]>0&&a("log2",e.rangName[n]+": "+e.warriorsdie[n]);a("log2","-----")}},combatScenario({},{enemy:e,ally:a}){let t=e/a,s=["",t];return s[0]=t>=2?"retreat":t>=1?"very hard":t>=.5?"hard":t>.1?"nice battle":"ez battle",s},expGained({state:e,dispatch:a},t){let s=0,r=0,o=e.exp;for(const n in e.exp)for(s=e.expbaseinc[n][t]*(e.squad[n]-e.squad_imp[n]),r+=s,o[n][1]+=s;o[n][1]>o[n][0];)e.squad_imp[n]++,o[n][1]-=o[n][0];r>0&&a("log2","Общий заработанный опыт: "+r)},rangUp({state:e,commit:a},{rang:t,count:s}){e.gold>s*e.wpc[t]*2?a("rangUp",{rang:t,count:s}):a("error","Нужно больше золота.")},takeReserve({state:e,dispatch:a},{mode:t,name:s}){if("all"==t)e.squad[s]+=e.squadReserved[s],e.squadReserved[s]=0,e.squad_imp[s]+=e.squad_imp_reserv[s],console.log(e.squad_imp[s],"хуй"),console.log(e.squad_imp_reserv[s],"пизда"),e.squad_imp_reserv[s]=0;else if("rangUp"==t)e.squad[s]+=e.squad_imp_reserv[s],e.squadReserved[s]-=e.squad_imp_reserv[s],e.squad_imp[s]+=e.squad_imp_reserv[s],e.squad_imp_reserv[s]=0;else{let a=e.squadReserved[s]-e.squad_imp_reserv[s];e.squadReserved[s]-=a,e.squad[s]+=a}},takeSquad({state:e,dispatch:a,getters:t},{mode:s,name:r}){if("all"==s){const a=e.reservCapacity-t.totalReserved;let s=Math.max(Math.min(e.squad[r],a),a);s=Math.min(s,e.squad[r]);let o=e.squad_imp[r];s<o&&(o=s),o=Math.min(s,o),e.squad_imp_reserv[r]+=o,e.squad_imp[r]-=o,e.squadReserved[r]+=s,e.squad[r]-=s}else if("rangUp"==s){const a=e.reservCapacity-t.totalReserved;let s=Math.min(e.squad_imp[r],a);e.squad_imp_reserv[r]+=s,e.squad_imp[r]-=s,e.squadReserved[r]+=s,e.squad[r]-=s}else{const a=e.reservCapacity-t.totalReserved;let s=e.squad[r]-e.squad_imp[r],o=Math.min(s,a);e.squadReserved[r]+=o,e.squad[r]-=o}},contractIsOver({state:e,dispatch:a},t){e.contract_is_taken.forEach(((e,a,t)=>{t[a]=0})),"win"==t?(e.Kojania.prosperity*=1+e.takenContract.prosperity/100,e.Kojania.reputation+=e.takenContract.reputation,a("log2","Контракт выполнен."),"common"==e.takenContract.dif&&a("checkQuest","found_contract")):"fail"==t?(e.Kojania.prosperity*=1-1.5*e.takenContract.prosperity/100,e.Kojania.reputation-=2*e.takenContract.reputation,a("log2","Контракт провален.")):e.Kojania.prosperity*=1-e.takenContract.prosperity/2/100},log1({state:e},a){e.messageLog1=a},log2({state:e},a){e.messageLog2.push(a)},showWhatHiden({state:e}){console.log(e.contract_list)},showQuestMsg({dispatch:e},a){e("finishMissionMessage",{text:a[a.active].finishText,msg:a[a.active].niceQuestMsgs})},finishMissionMessage({state:e},{text:a,msg:t}){e.modalMissionText=a,e.modalMission=!0,e.niceQuestMsgs=t},hire({commit:e,state:a},t){e("hire_reset_helper",1),a.gold>=a.Kojania.hirecost*t&&a.Kojania.availableWarriors>0?e("hire",t):a.Kojania.availableWarriors>0?e("error","Нужно больше золота."):e("error","Рекруты закончились. Возможно завтра будут новые."),e("hire_reset_helper",1)},buyReservSpace({commit:e,state:a},t){a.costReservPlace=50+5*(a.reservCapacity-20),a.costReservPlacex10=275+10*(50+5*(a.reservCapacity-20)),1==t&&a.costReservPlace<a.gold?(e("buyReservSpace",t),a.gold-=a.costReservPlace):1==t&&e("error","Нужно больше золота."),10==t&&a.costReservPlacex10<a.gold?(e("buyReservSpace",t),a.gold-=a.costReservPlacex10):10==t&&e("error","Нужно больше золота.")}},getters:{payday:(e,a)=>{let t=0,s=0;for(let r in e.squad)t+=e.squad[r]*e.wpc[r];for(let r in e.squadReserved)s+=e.squadReserved[r]*e.wpc[r];return t+s},power:(e,a)=>{let t=0;for(let s in e.squad)t+=e.squad[s]*e.wp[s];return t},totalPeople:(e,a)=>{let t=0;for(let s in e.squad)t+=e.squad[s];return t},demonicPresence:(e,a)=>{for(const t of e.Kojania.demonicPresenceList)if(Math.min(9e3,e.Kojania.demonicPresence)<=t.num)return[t.text,t.className]},kojaniaReputation:(e,a)=>{for(const t of e.Kojania.reputationList)if(Math.min(1e4,e.Kojania.repSumm)<=t.num)return[t.text,t.className]},kojaniaProsperity:(e,a)=>{for(const t of e.Kojania.prosperityList)if(Math.min(5e3,e.Kojania.prosperity)<=t.num)return[t.text,t.className]},targetAvailableWarriors:(e,a)=>Math.floor(e.Kojania.availableWarriors*Math.min(.6*(1+Math.pow(e.Kojania.prosperity,.5)/100),1)+Math.pow(e.Kojania.reputation+10,.7)/2),totalReserved:(e,a)=>{let t=0;for(let s in e.squadReserved)t+=e.squadReserved[s];return t},reservTax:(e,a)=>{let t=0;for(let s in e.squadReserved)t+=e.squadReserved[s]*e.wpc[s]*.1;return Math.round(t)},reservExp:(e,a)=>{let t=0;for(let s in e.squadReserved)t+=e.squadReserved[s]*e.expbaseinc[s][0];return Math.round(t)}}}}});k(Ra).use(ja).mount("#app");
